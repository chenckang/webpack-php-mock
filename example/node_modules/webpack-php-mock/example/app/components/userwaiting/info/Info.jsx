import React from 'react';
import AoiNav from 'components/common/aoinav/AoiNav';
import './Info.less';

class WaitingInfo extends React.Component {
    constructor(props) {
        super(props);
        this.state = {};
    }

    render() {
        return (
            <div className="user-waiting-info" onClick={this.props.onClick}>
                <div className="info-panel panel panel-default">
                    {
                        (function (state) {
                            if (state.isAoi) {
                                return (
                                    <section className="info-item panel-body">
                                        <h4 className="info-item-header">商圈信息</h4>
                                        <p>
                                            本商圈一共产生
                                            <span className="count_num">
                                                {state.user_addr}
                                            </span>
                                            个用户收货地址。
                                        </p>
                                    </section>
                                );
                            }
                            return (
                                <section className="info-item panel-body">
                                    <h4 className="info-item-header">城市信息</h4>
                                    <p>
                                        一共产生
                                        &nbsp;
                                        <span className="count_num">
                                            {state.user_addr}
                                        </span>
                                        &nbsp;
                                        个用户收货地址。
                                    </p>
                                </section>
                            );
                        })(this.state)
                    }
                    {
                        (function (state) {
                            if (state.isAoi) {
                                return (
                                    <section className="info-item panel-body">
                                        <h4 className="info-item-header">优化建议</h4>
                                        用户等待时间超过10分钟的用户地址有
                                            <span className="count_num">
                                                {state.wait_long_area.length}
                                            </span>
                                        个
                                        <ul>
                                            {state.wait_long_area.map(function (item, idx) {
                                                return (
                                                    <li className="advise-item">
                                                        {item}
                                                    </li>
                                                );
                                            })}
                                        </ul>
                                    </section>
                                );
                            }
                            return (
                                <section className="info-item panel-body">
                                    <h4 className="info-item-header">优化建议</h4>
                                    <ul>
                                        <li className="advise-item">
                                            用户等待时间过长的商圈有
                                            &nbsp;
                                            <a className="count_num" href="javascript:;" data-node="link" data-to="list" data-param="distance_long">
                                                {state.wait_long_aoi}
                                            </a>
                                            &nbsp;
                                            个。
                                        </li>
                                    </ul>
                                </section>
                            );
                        })(this.state)
                    }
                </div>
            </div>
        );
    }

    setData(data) {
        this.setState(data);
    }
}

export default WaitingInfo;