function Areas() {
}

$.extend(Areas.prototype, {
    setAoiMap: function (aoimap) {
        this.aoimap = aoimap;
        return this;
    },
    run: function (aoiid) {
        var me = this;
        var params = {};
        params.aoiid = aoiid;
        // params.date = $.format.date(new Date(), 'yyyy-MM-dd');

        // aoiid && $.ajax({
        //     url: '/wlmine/aoiareas',
        //     data: params,
        //     dataType: 'json',
        //     beforeSend: function () {
        //     },
        //     success: function (data) {
        var data = require('areas.json');
                if (data.errno === 0) {

                    var region = [];
                    var coords = data.data.coords;
                    coords.forEach(function (item, idx) {
                        region.push(new BMap.Point(item.longitude, item.latitude));
                    });
                    me.aoimap.setRegion(region);

                    var detail = data.data.detail;
                    var points = [];
                    detail.forEach(function (item, idx) {
                        var point = new BMap.Point(item.lng, item.lat);
                        point.detail = detail[idx];
                        points.push(point);
                    });
                    me.aoimap.setPoints(points);

                    me.aoimap.draw();
                }
            // },
            // complete: function () {
            // }
        // })
    }
});

export default Areas;